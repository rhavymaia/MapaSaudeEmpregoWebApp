<md-content flex layout-padding>
    <md-card>
        <md-table-container>
            <!-- Cabeçalho de opções -->
            <md-card-header>
                <md-card-avatar>
                    <ng-md-icon icon="school" size="42"></ng-md-icon>
                </md-card-avatar>

                <md-card-header-text>
                    <span class="md-title">CREAS</span>
                    <span class="md-subhead">
                        Digite o Município do Centros de Referência Especializado de Assistência Social (CREAS) no campo
                        abaixo para buscar.
                    </span>
                </md-card-header-text>

                <md-card-actions layout="row">
                    <md-card-icon-actions>
                    </md-card-icon-actions>
                </md-card-actions>
            </md-card-header>

            <md-toolbar class="md-table-toolbar md-default">
                <div class="md-toolbar-tools">

                    <ng-md-icon icon="search" size="32"></ng-md-icon>

                    <div class="toolbar-input" flex>
                        <input type="text" ng-model="municipio" ng-keyup="pesquisar(municipio)" placeholder="Município">
                    </div>

                    <md-button aria-label="Limpar Busca" ng-click="limparBusca()">
                        <md-tooltip md-direction="bottom">Limpar Busca</md-tooltip>
                        <ng-md-icon icon="clear" size="32"></ng-md-icon>
                    </md-button>
                </div>
            </md-toolbar>

            <!-- Tabela -->
            <table md-table>
                <thead md-head>
                    <tr md-row>
                        <th md-column>CREAS</th>
                        <th md-column>Município</th>
                        <th md-column>UF</th>
                        <th md-column>Opções</th>
                    </tr>
                </thead>

                <tbody md-body>
                    <tr md-row ng-repeat="creas in creass | limitTo: query.limit: (query.page - 1) * query.limit">
                        <td md-cell>{{creas.nomeCreas | uppercase}}</td>
                        <td md-cell>{{creas.nomeMunicipio | uppercase}}</td>
                        <td md-cell>{{creas.uf | uppercase}}</td>

                        <td md-cell>
                            <md-button aria-label="Editar Aluno" ui-sref="administrador.editar-aluno({id: aluno.id})" ui-sref-opts="{reload: true}">
                                <ng-md-icon icon="edit" size="18"></ng-md-icon>
                                <md-tooltip md-direction="bottom">
                                    Editar
                                </md-tooltip>
                            </md-button>
                            <md-button aria-label="Mostrar CREAS no Mapa" ui-sref="administrador.editar-aluno({id: aluno.id})" ui-sref-opts="{reload: true}">
                                <ng-md-icon icon="place" size="18"></ng-md-icon>
                                <md-tooltip md-direction="bottom">
                                    Mostrar CREAS no Mapa
                                </md-tooltip>
                            </md-button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <!-- Tabela -->
            <table md-table md-row-select ng-model="selectedCreas">
                <thead md-head>
                    <tr md-row>
                      <th md-column>Id</th>
                      <th md-column>CREAS</th>
                      <th md-column>Município</th>
                      <th md-column>UF</th>
                    </tr>
                </thead>

                <tbody md-body>
                    <tr md-row md-select="creas" md-on-select="detalharCreas" md-select-id="creas.idCreas" md-auto-select ng-repeat="creas in creass">
                      <td md-cell>{{creas.idCras}}</td>
                      <td md-cell>{{creas.nomeCras | uppercase}}</td>
                      <td md-cell>{{creas.nomeMunicipio | uppercase}}</td>
                      <td md-cell>{{creas.uf | uppercase}}</td>
                    </tr>
                </tbody>
            </table>
        </md-table-container>
        <md-table-pagination md-limit="query.limit" md-page="query.page" md-total="{{creass.length}}" md-page-select></md-table-pagination>
    </md-card>
</md-content>
